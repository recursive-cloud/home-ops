environment:
  - homelab/portainer
  - homelab/maxmind
  - homelab/plex
  - homelab/netbox
  - homelab/tailscale
  - homelab/home-assistant
  - homelab/seafile
  - homelab/gatus
config:
  # stack configuration
  portainer:machine-hostname: 'museum'
  portainer:app-data-host-path: '/mnt/ssdpool/appdata'
  portainer:config-uploader-host-path: '/mnt/ssdpool/appdata/app-config'
  portainer:config-uploader-mount-path: '/app-config'
  portainer:config-uploader-portainer-mount-path: '/app-config'
  portainer:config-uploader-group-id: 3002
  portainer:config-upload-ssh-port: 2222

  # networks
  portainer:networks:
    - name: mgmt
      type: bridge
      host-bind-ip: '192.168.10.65'
    - name: mgmt
      type: macvlan
      ipv4:
        subnet: '192.168.10.0/24'
        gateway: '192.168.10.1'
        ip-range: '192.168.10.224/30'
      ipv6:
        subnet: 'fd00:0:0:10::/64'
        gateway: 'fd00:0:0:10::1'
      parent-interface: br0
    - name: home
      type: bridge
    - name: home
      type: macvlan
      ipv4:
        subnet: '192.168.20.0/24'
        gateway: '192.168.20.1'
        ip-range: '192.168.20.224/29'
      ipv6:
        subnet: 'fd00:0:0:20::/64'
        gateway: 'fd00:0:0:20::1'
      parent-interface: vlan20
    # netbox network
    - name: netbox
      type: bridge
    # cloudflare tunnel network
    - name: cfd
      type: bridge
    # seafile network
    - name: seafile
      type: bridge
    # IOT internet access network
    - name: iot-ia
      type: macvlan
      ipv4:
        subnet: '192.168.100.0/24'
        gateway: '192.168.100.1'
        ip-range: '192.168.100.224/29'
      ipv6:
        subnet: 'fd00:0:0:100::/64'
        gateway: 'fd00:0:0:100::1'
      parent-interface: vlan100
    # IOT local-only network
    - name: iot-lo
      type: macvlan
      ipv4:
        subnet: '192.168.110.0/24'
        ip-range: '192.168.110.224/29'
      ipv6:
        subnet: 'fd00:0:0:110::/64'
      parent-interface: vlan110

  # traefik ingresses
  portainer:traefik-ingresses:
    - network: mgmt
    - network: home
      macvlan-ip: '192.168.20.225'

  # stacks to deploy
  portainer:stacks:
    - auth
    - auth-mgmt
    - cloudflared
    - home-assistant
    - media
    - netbox
    - seafile
    - gatus
    - tailscale
